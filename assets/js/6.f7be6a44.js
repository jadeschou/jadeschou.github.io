(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{284:function(t,a,s){t.exports=s.p+"assets/img/webpack-dev-server.8b1559a9.png"},285:function(t,a,s){t.exports=s.p+"assets/img/bundle.9a072150.png"},286:function(t,a,s){t.exports=s.p+"assets/img/loader调用流程.e94f2c2b.jpg"},471:function(t,a,s){"use strict";s.r(a);var e=s(13),r=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"前端工程化与-webpack-基础"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端工程化与-webpack-基础"}},[t._v("#")]),t._v(" 前端工程化与 webpack 基础")]),t._v(" "),a("hr"),t._v(" "),a("h2",{attrs:{id:"前端工程化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端工程化"}},[t._v("#")]),t._v(" 前端工程化")]),t._v(" "),a("h3",{attrs:{id:"实际的前端开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实际的前端开发"}},[t._v("#")]),t._v(" 实际的前端开发")]),t._v(" "),a("ul",[a("li",[t._v("模块化（js 的模块化、css 的模块化、资源的模块化）")]),t._v(" "),a("li",[t._v("组件化（复用已有的 UI 结构、样式、行为）")]),t._v(" "),a("li",[t._v("规范化（目录结构的划分、编码规范化、接口规范化、文档规范化、Git 分支管理）")]),t._v(" "),a("li",[t._v("自动化（自动化构建、自动部署、自动化测试）")])]),t._v(" "),a("h3",{attrs:{id:"何为前端工程化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#何为前端工程化"}},[t._v("#")]),t._v(" 何为前端工程化")]),t._v(" "),a("p",[t._v("前端工程化即，在企业级的前端项目开发中，把前端开发所需的工具、技术、流程、经验等进行规范化、标准化。这样有利于前端开发自成体系，有一套"),a("font",{attrs:{color:"red"}},[t._v("标准的开发方案和流程")]),t._v("。")],1),t._v(" "),a("h3",{attrs:{id:"前端工程化解决方案"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端工程化解决方案"}},[t._v("#")]),t._v(" 前端工程化解决方案")]),t._v(" "),a("p",[t._v("早期解决方案：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.gruntjs.net/",target:"_blank",rel:"noopener noreferrer"}},[t._v("grunt"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https:///www.gulpjs.com.cn/",target:"_blank",rel:"noopener noreferrer"}},[t._v("gulp"),a("OutboundLink")],1)])]),t._v(" "),a("p",[t._v("目前主流方案：")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.webpackjs.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack"),a("OutboundLink")],1)]),t._v(" "),a("li",[a("a",{attrs:{href:"https://zh.parceljs.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("parcel"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"webpack-基础用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-基础用法"}},[t._v("#")]),t._v(" webpack 基础用法")]),t._v(" "),a("h3",{attrs:{id:"webpack-是什么"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-是什么"}},[t._v("#")]),t._v(" webpack 是什么")]),t._v(" "),a("ul",[a("li",[t._v("webpack 是前端项目工程化的解决方案")]),t._v(" "),a("li",[t._v("它提供了"),a("font",{attrs:{color:"red"}},[t._v("前端模块化开发")]),t._v("支持，以及"),a("font",{attrs:{color:"red"}},[t._v("代码压缩混淆、处理浏览器端 JavaScript 的兼容性、性能优化")]),t._v("等功能")],1),t._v(" "),a("li",[t._v("它让程序员把工作重心放在具体功能实现上，提高开发效率和项目可维护性")])]),t._v(" "),a("h3",{attrs:{id:"安装-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-webpack"}},[t._v("#")]),t._v(" 安装 webpack")]),t._v(" "),a("p",[a("code",[t._v("-D")]),t._v(" 是 "),a("code",[t._v("--save-dev")]),t._v(" 的缩写，表示开发时依赖，只在项目开发阶段用到。\n"),a("code",[t._v("-S")]),t._v(" 是 "),a("code",[t._v("--save")]),t._v(" 的缩写，表示运行时依赖，即项目打包发布运行时要用到。")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" webpack@5.42.1 webpack-cli@4.7.2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n")])])]),a("h3",{attrs:{id:"配置-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-webpack"}},[t._v("#")]),t._v(" 配置 webpack")]),t._v(" "),a("ol",[a("li",[t._v("项目根目录中创建 webpack.config.js 配置文件，初始化基本配置：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// mode 用于指定构建模式，可选值有 development 和 production")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在 "),a("code",[t._v("package.json")]),t._v(" 文件的 "),a("code",[t._v("scripts")]),t._v(" 节点下，新增 "),a("code",[t._v("dev")]),t._v(" 脚本：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 配置好后就能通过 npm run dev 命令执行打包过程")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("在终端中运行 "),a("code",[t._v("npm run dev")]),t._v(" 命令，即可启动 webpack 进行项目的打包构建")])]),t._v(" "),a("h4",{attrs:{id:"mode-的可选值"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mode-的可选值"}},[t._v("#")]),t._v(" mode 的可选值")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("development")]),t._v(" "),a("ul",[a("li",[t._v("代表开发环境")]),t._v(" "),a("li",[t._v("不会对打包生成的文件进行"),a("strong",[t._v("代码压缩")]),t._v("和"),a("strong",[t._v("性能优化")])]),t._v(" "),a("li",[t._v("打包速度快，适合开发阶段使用")])])]),t._v(" "),a("li",[a("code",[t._v("production")]),t._v(" "),a("ul",[a("li",[t._v("代表生产环境")]),t._v(" "),a("li",[t._v("会对打包生成的文件进行代码压缩和性能优化")]),t._v(" "),a("li",[t._v("打包速度慢，仅推荐在发布阶段使用")])])])]),t._v(" "),a("h4",{attrs:{id:"webpack-config-js-文件的作用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-config-js-文件的作用"}},[t._v("#")]),t._v(" webpack.config.js 文件的作用")]),t._v(" "),a("p",[t._v("webpack.config.js 是 webpack 的配置文件。webpack 在真正开始打包构建之前，会先读取这个配置文件，从而基于给定的配置，对项目进行打包。")]),t._v(" "),a("h4",{attrs:{id:"webpack-中的默认约定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-中的默认约定"}},[t._v("#")]),t._v(" webpack 中的默认约定")]),t._v(" "),a("p",[t._v("在 webpack 4.x 和 5.x 版本中，默认约定：")]),t._v(" "),a("ul",[a("li",[t._v("默认打包入口文件为 "),a("code",[t._v("src/index.js")])]),t._v(" "),a("li",[t._v("默认输出文件路径为 "),a("code",[t._v("dist/main.js")])])]),t._v(" "),a("h4",{attrs:{id:"自定义打包入口和出口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自定义打包入口和出口"}},[t._v("#")]),t._v(" 自定义打包入口和出口")]),t._v(" "),a("p",[t._v("在 webpack.config.js 配置文件中，通过 "),a("code",[t._v("entry")]),t._v(" 节点指定打包入口，"),a("code",[t._v("output")]),t._v(" 节点指定打包出口。")]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'path'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("entry")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("output")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出文件的存放路径")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'bundle.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 输出文件的名称")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"webpack-的插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-的插件"}},[t._v("#")]),t._v(" webpack 的插件")]),t._v(" "),a("h3",{attrs:{id:"webpack-dev-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[t._v("#")]),t._v(" webpack-dev-server")]),t._v(" "),a("p",[t._v("webpack-dev-server 让 webpack 能监听项目源码的变化，从而自动打包构建。")]),t._v(" "),a("h4",{attrs:{id:"安装-webpack-dev-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-webpack-dev-server"}},[t._v("#")]),t._v(" 安装 webpack-dev-server")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" webpack-dev-server@3.11.2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n")])])]),a("h4",{attrs:{id:"配置-webpack-dev-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-webpack-dev-server"}},[t._v("#")]),t._v(" 配置 webpack-dev-server")]),t._v(" "),a("ol",[a("li",[t._v("修改 "),a("code",[t._v("package.json -> scripts")]),t._v(" 的 "),a("code",[t._v("dev")]),t._v(" 命令：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token string-property property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack serve"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("运行 "),a("code",[t._v("npm run dev")]),t._v(" 命令，重新打包项目")]),t._v(" "),a("li",[t._v("浏览器访问 "),a("code",[t._v("http://localhost:8080")]),t._v(" 地址，查看打包效果")])]),t._v(" "),a("h4",{attrs:{id:"打包生成的文件在何处"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包生成的文件在何处"}},[t._v("#")]),t._v(" 打包生成的文件在何处")]),t._v(" "),a("ul",[a("li",[t._v("配置 webpack-dev-server 之后，打包生成的文件存放到"),a("strong",[t._v("内存")]),t._v("中，而不再是存放到物理磁盘上")]),t._v(" "),a("li",[t._v("提高实时打包输出的性能")])]),t._v(" "),a("img",{attrs:{src:s(284)}}),t._v(" "),a("h4",{attrs:{id:"如何访问打包生成的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何访问打包生成的文件"}},[t._v("#")]),t._v(" 如何访问打包生成的文件")]),t._v(" "),a("p",[t._v("webpack-dev-server 生成的文件默认放在项目根目录中，是虚拟不可见的。")]),t._v(" "),a("ul",[a("li",[t._v("在 "),a("code",[t._v("/")]),t._v(" 后跟上要访问的文件名称，即可访问内存中的文件")]),t._v(" "),a("li",[t._v("如 "),a("code",[t._v("bundle.js")]),t._v(" 表示访问 webpack-dev-server 生成到内存中的 bundle.js 文件")])]),t._v(" "),a("img",{attrs:{src:s(285)}}),t._v(" "),a("h3",{attrs:{id:"html-webpack-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-webpack-plugin"}},[t._v("#")]),t._v(" html-webpack-plugin")]),t._v(" "),a("p",[t._v("html-webpack-plugin 是 webpack 中的 HTML 插件，可以通过此插件自定制 index.html 页面的内容。\n通过 html-webpack-plugin 插件，将 src 目录下的 index.html 首页，复制到项目根目录中。")]),t._v(" "),a("h4",{attrs:{id:"安装-html-webpack-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装-html-webpack-plugin"}},[t._v("#")]),t._v(" 安装 html-webpack-plugin")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" html-webpack-plugin@5.3.2 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n")])])]),a("h4",{attrs:{id:"配置-html-webpack-plugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-html-webpack-plugin"}},[t._v("#")]),t._v(" 配置 html-webpack-plugin")]),t._v(" "),a("p",[t._v("在 webpack.config.js 进行配置：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" HtmlPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'html-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" htmlPlugin "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("HtmlPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./src/index.html'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定原文件的路径")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./index.html'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指定生成文件的路径")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("exports")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("htmlPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"html-webpack-plugin-生成的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-webpack-plugin-生成的文件"}},[t._v("#")]),t._v(" html-webpack-plugin 生成的文件")]),t._v(" "),a("ul",[a("li",[t._v("通过 html-webpack-plugin 复制到项目根目录中的 index.html 页面，也被放到内存中")]),t._v(" "),a("li",[t._v("生成的 index.html 页面，自动注入打包的 bundle.js 文件")])]),t._v(" "),a("h3",{attrs:{id:"devserver-节点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devserver-节点"}},[t._v("#")]),t._v(" devServer 节点")]),t._v(" "),a("p",[t._v("通过 webpack.config.js 文件的 "),a("code",[t._v("devServer")]),t._v(" 节点对 webpack-dev-server 插件进行更多的配置。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devServer")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("open")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 初次打包完成后，自动打开浏览器")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("host")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'127.0.0.1'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 访问地址")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("port")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("80")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 访问端口号")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"webpack-的-loader-加载器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#webpack-的-loader-加载器"}},[t._v("#")]),t._v(" webpack 的 loader 加载器")]),t._v(" "),a("h3",{attrs:{id:"loader-概述"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader-概述"}},[t._v("#")]),t._v(" loader 概述")]),t._v(" "),a("p",[t._v("webpack 默认只能打包 "),a("code",[t._v(".js")]),t._v(" 结尾的模块，其他模块需要调用对应的 loader 加载器才能进行打包，即"),a("strong",[t._v("协助 webpack 打包特定的文件模块")]),t._v("。")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("css-loader")]),t._v(" 可打包 "),a("code",[t._v(".css")]),t._v(" 文件")]),t._v(" "),a("li",[a("code",[t._v("less-loader")]),t._v(" 可打包 "),a("code",[t._v(".less")]),t._v(" 文件")]),t._v(" "),a("li",[a("code",[t._v("babel-loader")]),t._v(" 可打包 webpack 无法处理的 JS 高级语法")])]),t._v(" "),a("h3",{attrs:{id:"loader-调用过程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#loader-调用过程"}},[t._v("#")]),t._v(" loader 调用过程")]),t._v(" "),a("img",{attrs:{src:s(286)}}),t._v(" "),a("h3",{attrs:{id:"打包-css-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-css-文件"}},[t._v("#")]),t._v(" 打包 css 文件")]),t._v(" "),a("ol",[a("li",[t._v("运行 "),a("code",[t._v("npm i style-loader@3.0.0 css-loader@5.2.6 -D")]),t._v(" 命令，安装 loader")]),t._v(" "),a("li",[t._v("在 webpack.config.js 文件的 "),a("code",[t._v("module->rules")]),t._v(" 数组添加规则：")])]),t._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.css$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'css-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("test")]),t._v(" 表示匹配的文件类型，"),a("code",[t._v("use")]),t._v(" 表示对应调用的 loader")]),t._v(" "),a("li",[a("code",[t._v("use")]),t._v(" 数组的 loader 顺序是固定的")]),t._v(" "),a("li",[t._v("loader 调用顺序是"),a("strong",[t._v("从后往前")])])]),t._v(" "),a("h3",{attrs:{id:"打包-less-文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-less-文件"}},[t._v("#")]),t._v(" 打包 less 文件")]),t._v(" "),a("ol",[a("li",[t._v("运行 "),a("code",[t._v("npm i less-loader@10.0.1 less@4.1.1 -D")]),t._v(" 命令")]),t._v(" "),a("li",[t._v("在 webpack.config.js 文件的 "),a("code",[t._v("module->rules")]),t._v(" 数组添加规则：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.less$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'style-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'css-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'less-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"打包与-url-路径相关的文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包与-url-路径相关的文件"}},[t._v("#")]),t._v(" 打包与 URL 路径相关的文件")]),t._v(" "),a("ol",[a("li",[t._v("运行 "),a("code",[t._v("npm i url-loader@4.1.1 file-loader@6.2.0 -D")]),t._v(" 命令")]),t._v(" "),a("li",[t._v("在 webpack.config.js 文件的 "),a("code",[t._v("module->rules")]),t._v(" 数组添加规则：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.jpg|png|gif$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url-loader?limit=22229'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("limit")]),t._v(" 用于指定图片大小，单位是 byte")]),t._v(" "),a("li",[t._v("只有 "),a("code",[t._v("<= limit")]),t._v(" 大小的图片才会被转为 "),a("a",{attrs:{href:"https://www.cnblogs.com/ranyonsue/p/8615824.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("base64 格式"),a("OutboundLink")],1),t._v("的图片")])]),t._v(" "),a("h3",{attrs:{id:"打包-js-文件的高级语法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包-js-文件的高级语法"}},[t._v("#")]),t._v(" 打包 JS 文件的高级语法")]),t._v(" "),a("ol",[a("li",[t._v("运行 "),a("code",[t._v("npm i babel-loader@8.2.2 @babel/core@7.14.6 @babel/plugin-proposal-decorators@7.14.5 -D")]),t._v(" 安装 babel")]),t._v(" "),a("li",[t._v("在 webpack.config.js 文件的 "),a("code",[t._v("module->rules")]),t._v(" 数组添加规则：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("module")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("rules")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.js$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'babel-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("exclude")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("node_modules")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("配置 babel：在项目根目录下，创建名为 babel.config.js 的配置文件，定义 Babel 的配置项：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 声明 babel 可用的插件")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@babel/plugin-proposal-decorators'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("legacy")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"打包发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包发布"}},[t._v("#")]),t._v(" 打包发布")]),t._v(" "),a("h3",{attrs:{id:"为何需要打包发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为何需要打包发布"}},[t._v("#")]),t._v(" 为何需要打包发布")]),t._v(" "),a("ul",[a("li",[t._v("开发环境下，打包生成的文件存放于内存中，无法得到最终打包生成的文件")]),t._v(" "),a("li",[t._v("开发环境下，打包生成的文件不会进行代码压缩和性能优化")])]),t._v(" "),a("h3",{attrs:{id:"配置-webpack-的打包发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-webpack-的打包发布"}},[t._v("#")]),t._v(" 配置 webpack 的打包发布")]),t._v(" "),a("p",[t._v("在 package.json 文件的 "),a("code",[t._v("scripts")]),t._v(" 节点，新增 "),a("code",[t._v("build")]),t._v(" 命令：")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack serve"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webpack --mode production"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("code",[t._v("--model")]),t._v(" 指定 webpack 的运行模式，会覆盖 webpack.config.js 中的 "),a("code",[t._v("model")]),t._v(" 选项")])]),t._v(" "),a("h3",{attrs:{id:"把-js-文件统一生成到-js-目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#把-js-文件统一生成到-js-目录"}},[t._v("#")]),t._v(" 把 JS 文件统一生成到 js 目录")]),t._v(" "),a("p",[t._v("在 webpack.config.js 配置文件的 "),a("code",[t._v("output")]),t._v(" 节点中，进行配置:")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("ouput")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("path")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" path"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 将 bundle.js 文件存放到 dist 目录的 js 子目录中")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("filename")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'js/bundle.js'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"把图片统一生成到-image-目录"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#把图片统一生成到-image-目录"}},[t._v("#")]),t._v(" 把图片统一生成到 image 目录")]),t._v(" "),a("p",[t._v("修改 webpack.config.js 中的 "),a("code",[t._v("url-loader")]),t._v(" 配置项，新增 "),a("code",[t._v("outputPath")]),t._v(" 选项指定图片文件的输出路径：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("test")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token regex-source language-regex"}},[t._v("\\.jpg|png|gif$")]),a("span",{pre:!0,attrs:{class:"token regex-delimiter"}},[t._v("/")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("use")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("loader")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("options")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("limit")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("23333")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 指明生成的图片存到 dist 目录下的 image 子目录中")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("outputPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'image'")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"自动清理-dist-目录下的旧文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#自动清理-dist-目录下的旧文件"}},[t._v("#")]),t._v(" 自动清理 dist 目录下的旧文件")]),t._v(" "),a("ol",[a("li",[t._v("安装 clean-webpack-plugin 插件")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" clean-webpack-plugin@3.0.0 "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[t._v("-D")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在 webpack.config.js 文件中进行配置：")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" CleanWebpackPlugin "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'clean-webpack-plugin'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// plugins 节点挂载 CleanWebpackPlugin 实例对象")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("htmlPlugin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("CleanWebpackPlugin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),a("h3",{attrs:{id:"企业级项目打包发布"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#企业级项目打包发布"}},[t._v("#")]),t._v(" 企业级项目打包发布")]),t._v(" "),a("p",[t._v("企业级项目打包发布的流程更复杂：")]),t._v(" "),a("ul",[a("li",[t._v("生成打包报告，根据报告分析具体的优化方案")]),t._v(" "),a("li",[t._v("Tree-Shaking")]),t._v(" "),a("li",[t._v("为第三方库启用 CDN 加载")]),t._v(" "),a("li",[t._v("配置组件的按需加载")]),t._v(" "),a("li",[t._v("开启路由懒加载")]),t._v(" "),a("li",[t._v("自定制首页内容")])]),t._v(" "),a("h3",{attrs:{id:"打包后双击-index-html-查看效果"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包后双击-index-html-查看效果"}},[t._v("#")]),t._v(" 打包后双击 index.html 查看效果")]),t._v(" "),a("p",[t._v("项目 "),a("code",[t._v("npm run build")]),t._v(" 打包之后，默认情况下在本地双击 "),a("code",[t._v("dist/index.html")]),t._v(" 是无法看到项目效果的，如果想要看到效果需要进行配置。 "),a("code",[t._v("vue.config.js")]),t._v("文件将 "),a("code",[t._v("publicPath")]),t._v(" 改为 "),a("code",[t._v("'./'")]),t._v(" 即可，默认为 "),a("code",[t._v("'/'")]),t._v(" 。")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("publicPath")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h2",{attrs:{id:"source-map"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source-map"}},[t._v("#")]),t._v(" Source Map")]),t._v(" "),a("h3",{attrs:{id:"source-map-为何物"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source-map-为何物"}},[t._v("#")]),t._v(" Source Map 为何物")]),t._v(" "),a("p",[t._v("Source Map 就是一个信息文件，里面储存着位置信息，它存储着压缩混淆后的代码，所对应的转换前的位置。当我们运行打包生成的代码出错时，就能通过报错信息定位到"),a("strong",[t._v("源码的出错位置")]),t._v("。")]),t._v(" "),a("h3",{attrs:{id:"source-map-最佳实践"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#source-map-最佳实践"}},[t._v("#")]),t._v(" Source Map 最佳实践")]),t._v(" "),a("p",[t._v("开发环境下：")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("devtool")]),t._v(" 设置为 "),a("code",[t._v("eval-source-map")])]),t._v(" "),a("li",[t._v("显示源码报错的行数")]),t._v(" "),a("li",[t._v("可以精准定位到具体的错误行")])]),t._v(" "),a("p",[t._v("生产环境下：")]),t._v(" "),a("ul",[a("li",[t._v("关闭 Source Map 或把 "),a("code",[t._v("devtool")]),t._v(" 设置为 "),a("code",[t._v("nosources-source-map")])]),t._v(" "),a("li",[t._v("只会显示源码中报错的行数，不会暴露源码")]),t._v(" "),a("li",[t._v("防止源码泄露，提高网站安全性")])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// webpack.config.js 文件")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mode")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'development'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("devtool")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'eval-source-map'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);